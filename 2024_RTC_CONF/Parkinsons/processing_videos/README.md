# Extracting Tabular 3D Landmark Data from Video (Parkinsons/processing_videos)

This will:

- extract 3D MediaPipe data from video and place it into a `tabular` folder
- generate 2 videos: 1) simple stick figure and 2) overlay the sitck figures on top of the original video and save to `video` folder

## Prerequisites

Have only tested on MacOS, but should also work on most favors of Linux.

Using:

- Python 3.10+

I would highly recommend using something like:

- conda - <https://docs.anaconda.com/free/miniconda/>
- venv - <https://docs.python.org/3/library/venv.html>

## Installation

Install the required packages by running in your (virtual) environment:

```bash
pip install -r requirements.txt
```

## Running the Example

You must place your videos in the corresponding folders:

- `raw/Normal` - for videos demonstrating normal GAIT
- `raw/Parkinsons` - for videos demonstrating individuals with Parkinsons GAIT

We reduced the clips to roughly about 4 seconds or about 70ish frames per clip. The output of running this application will give you the floor count of the video with the smallest number of frames. It will also produce a list of videos which should be thrown out because it doesn't meet the 3D MediaPose landmarks we need.

> If you don't have a crazy GPU, this could take some time (My Macbook m2 took about 12 hours). If you don't want to wait, take a look at using a GPU Cloud Service.

To run the example:

```bash
python main.py
```

## To Clean Up

This will delete EVERYTHING that was downloaded or anything (like the model itself) generated by the script.

```bash
./clean.sh
```
